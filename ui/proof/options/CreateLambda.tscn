[gd_scene load_steps=3 format=2]

[ext_resource path="res://ui/proof/options/CreateLambda.gd" type="Script" id=1]

[sub_resource type="GDScript" id=1]
script/source = "extends Control
class_name ExprItemEdit


signal selection_changed # Unimplemented
signal expr_item_changed # (valid:bool) # Unimplemented

# set_proof_box
export var editable := true


func set_expr_item(expr_item:ExprItem, proof_box := GlobalTypes.PROOF_BOX) -> void:
	if get_child_count() == 1:
		var to_remove := get_child(0)
		remove_child(to_remove)
		to_remove.queue_free()
	var child := ExprItemEditHelper.new(self, expr_item, proof_box)
	add_child(child)
	child.connect(\"minimum_size_changed\", self, \"_on_minimum_size_change\")


func has_holes() -> bool:
	return get_child(0).has_holes()


func get_expr_item() -> ExprItem:
	return get_child(0).get_expr_item()


func _on_changed(_expr_item:ExprItem):
	emit_signal(\"expr_item_changed\")
	print(\"CHANGE!\")


func _on_minimum_size_change():
	set_custom_minimum_size(get_child(0).rect_min_size)
	set_size(get_child(0).rect_size)
"

[node name="CreateLambda" type="VBoxContainer"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 8.0
margin_top = 8.0
margin_right = -8.0
margin_bottom = -36.0
script = ExtResource( 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Replace" type="HBoxContainer" parent="."]
margin_right = 1008.0
margin_bottom = 14.0

[node name="ReplaceLabel" type="Label" parent="Replace"]
margin_right = 62.0
margin_bottom = 14.0
text = "Replace : "

[node name="Replace" type="Control" parent="Replace"]
margin_left = 66.0
margin_right = 66.0
margin_bottom = 14.0
script = SubResource( 1 )

[node name="With" type="HBoxContainer" parent="."]
margin_top = 18.0
margin_right = 1008.0
margin_bottom = 42.0

[node name="WithLabel" type="Label" parent="With"]
margin_top = 5.0
margin_right = 42.0
margin_bottom = 19.0
text = "With : "

[node name="With" type="LineEdit" parent="With"]
margin_left = 46.0
margin_right = 104.0
margin_bottom = 24.0
text = "x"

[node name="HSeparator" type="HSeparator" parent="."]
margin_top = 46.0
margin_right = 1008.0
margin_bottom = 50.0

[node name="Preview" type="HBoxContainer" parent="."]
margin_top = 54.0
margin_right = 1008.0
margin_bottom = 68.0

[node name="PreviewLabel" type="Label" parent="Preview"]
margin_right = 62.0
margin_bottom = 14.0
text = "Preview : "

[node name="Preview" type="Control" parent="Preview"]
margin_left = 66.0
margin_right = 66.0
margin_bottom = 14.0
script = SubResource( 1 )
